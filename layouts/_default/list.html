{{ define "main" }}

	<main class="px-2 w-full max-w-screen-lg flex-grow">



		{{/* START img modal. */}}

		<div style="background-color: rgba(0,0,0,.50)" class="hidden fixed top-0 left-0 w-screen h-screen bg-black z-20 modal flex justify-center items-center">

				<img class="w-64 h-64 modal" src="https://via.placeholder.com/320x240/CBD5E0/A0AEC0?text=λ">

				<button type="button" class="absolute top-0 right-0 mt-4 mr-4 text-3xl text-gray-100" tabindex="0">X</button>

		</div>

		{{/* END img modal. */}}



		{{/* IF there are content available, display this. */}}

		{{ if .Pages }}

			{{ $title := .Title }}
			{{ $kind := .Kind }}

			<div class="flex justify-around">



				{{/* START vertical tags navigation. */}}

				<aside class="w-32 font-bold hidden sm:block">

					<h3 class="mb-2 text-sm">Tags</h3>

					<nav class="text-xs text-gray-500">

						<ul>

						{{ if eq .Kind "section" }}

							<li><a class="pl-2 py-2 block text-gray-500">All <span class="text-gray-500">({{ len (where .Site.RegularPages "Section" "==" "portfolio") }})</a></span></li>

							{{ range .Site.Taxonomies.tags.ByCount }}

								<li><a class="pl-2 py-2 break-words block opacity-75 hover:opacity-100 hover:text-gray-500" href="{{ .Page.RelPermalink }}">{{ .Page.Title }} <span class="text-gray-500">({{ .Count }})</span></a></li>

							{{ end }}

						{{ else }}

							<li><a class="pl-2 py-2 opacity-75 block hover:opacity-100 hover:text-gray-500" href="/portfolio/">All <span class="text-gray-500">({{ len (where .Site.RegularPages "Section" "==" "portfolio") }})</span></a></li>

							{{ range .Site.Taxonomies.tags.ByCount }}

								{{ if eq $title .Page.Title }}

									<li class="pl-2 py-2 break-words">{{ .Page.Title }} <span class="text-gray-500">({{ .Count }})</span></li>

								{{ else }}

									<li><a class="pl-2 py-2 block break-words opacity-75 hover:opacity-100 hover:text-gray-500" href="{{ .Page.RelPermalink }}">{{ .Page.Title }} <span class="text-gray-500">({{ .Count }})</span></a></li>

								{{ end }}

							{{ end }}

						{{ end }}

						</ul>

					</nav>

				</aside>

				{{/* END vertical tags navigation. */}}



				{{/* START main content grid. */}}

				<div class="w-full grid gap-4 grid-cols-1 sm:ml-4 md:grid-cols-2 lg:grid-cols-3">

					{{ range .Pages }}

						<article class="mb-4 mx-auto max-w-xs lg:w-64 shadow bg-white">

								<button type="button" class="flex justify-center items-center modal" tabindex="0">

									<div class="w-full bg-black"><img id="{{ anchorize .Title }}" class="shadow pointer-events-none" src="https://via.placeholder.com/320x240/CBD5E0/A0AEC0?text=λ" width="320" height="240"></div>

									<span class="hidden bg-gray-300 absolute font-bold text-gray-100 pointer-events-none"><img class="w-16 h-16" src="/zoom-in.svg"></span>

								</button>

							<div class="m-4">

								<h3>{{ .Title }}</h3>

								<ul class="flex flex-wrap">

								{{ range .Params.tags }}

									{{ if eq $kind "section" }}

										<li style="max-width: 16rem" class="mr-1 break-words"><a class="opacity-75 hover:opacity-100 text-xs" href="/portfolio/tag/{{ anchorize . }}/">#{{ . }}</a></li>

									{{ else }}

										{{ if eq $title . }}

											<li style="max-width: 16rem" class="mr-1 break-words"><a class="text-xs">#{{ . }}</a></li>

										{{ else }}

											<li style="max-width: 16rem" class="mr-1 break-words"><a class="opacity-75 hover:opacity-100 text-xs" href="/portfolio/tag/{{ anchorize . }}/">#{{ . }}</a></li>

										{{ end }}

									{{ end }}

								{{ end }}

								</ul>

							</div>

						</article>

					{{ end }}

				</div>

				{{/* END main content grid. */}}



			</div>



			{{/* Button to display tags in small screens. */}}

			<button class="p-1 bg-gray-500 sm:hidden font-bold text-gray-100 shadow opacity-75 hover:opacity-100 fixed bottom-0 left-0 w-full text-center z-10 tagsBtn" href="/portfolio/tags/" type="button">Tags</button>



		{{/* If there aren't content available, display this. */}}

		{{ else }}

			<section class="text-center">

				<img class="w-64 h-64 mb-4 mx-auto" src="/portfolio/undraw_image_upload_wqh3.svg">

				<a class="p-4 opacity-75 hover:opacity-100" href="#"><span class="p-2 bg-gray-500 shadow rounded text-gray-100 font-bold">Upload content</span></a>

			</section>

		{{ end }}

	</main>

	<script src="/portfolio/main.js"></script>

{{ end }}

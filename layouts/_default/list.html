{{ define "main" }}

	<main class="w-full max-w-screen-lg flex-grow">



		{{/* START img modal. */}}

		<div class="translate-colors ease-linear duration-1000 hidden fixed top-0 left-0 w-screen h-screen z-20 modal flex justify-center items-center">

				<img class="transform translate-y-64 opacity-0 max-w-screen-md modal" style="max-height: 576px">

				<button type="button" class="absolute top-0 right-0 mt-4 mr-4 text-3xl text-gray-100" tabindex="0">X</button>

		</div>

		{{/* END img modal. */}}



		{{/* If there are content available: */}}

		{{/* START main content. */}}

		{{ if .Pages }}

			{{ $title := .Title }}
			{{ $kind := .Kind }}

			<div class="relative flex justify-center">



				{{/* START vertical tags navigation. */}}

				<aside class="fixed top-50 left-0 pl-8 md:ml-12 lg:ml-16 w-32 font-bold hidden sm:block">

					<h3 class="mb-2 text-sm">Tags</h3>

					<nav class="text-xs text-gray-500">

						<ul>

						{{ if eq .Kind "section" }}

							<li><a class="pl-2 py-2 block text-gray-500">All <span class="text-gray-500">({{ len (where .Site.Pages "Section" "==" "portfolio") }})</a></span></li>

							{{ range .Site.Taxonomies.tags.ByCount }}

								<li><a class="pl-2 py-2 break-words block opacity-75 hover:opacity-100 hover:text-gray-500 focus:opacity-100 transition-opacity ease-linear duration-300" href="{{ .Page.RelPermalink }}">{{ .Page.Title }} <span class="text-gray-500">({{ .Count }})</span></a></li>

							{{ end }}

						{{ else }}

							<li><a class="pl-2 py-2 opacity-75 block hover:opacity-100 hover:text-gray-500 focus:opacity-100 transition-opacity ease-linear duration-300" href="/portfolio/">All <span class="text-gray-500">({{ len (where .Site.Pages "Section" "==" "portfolio") }})</span></a></li>

							{{ range .Site.Taxonomies.tags.ByCount }}

								{{ if eq $title .Page.Title }}

									<li class="pl-2 py-2 break-words">{{ .Page.Title }} <span class="text-gray-500">({{ .Count }})</span></li>

								{{ else }}

									<li><a class="pl-2 py-2 block break-words opacity-75 hover:opacity-100 focus:opacity-100 transition-opacity ease-linear duration-300 hover:text-gray-500" href="{{ .Page.RelPermalink }}">{{ .Page.Title }} <span class="text-gray-500">({{ .Count }})</span></a></li>

								{{ end }}

							{{ end }}

						{{ end }}

						</ul>

					</nav>

				</aside>

				{{/* END vertical tags navigation. */}}



				{{/* START main content grid. */}}

				<div class="w-full sm:ml-48 max-w-xs md:max-w-screen-sm lg:max-w-none grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 self-start">

					{{ range .Pages }}

						<article class="mb-4 mx-auto max-w-xs lg:w-64 shadow bg-white">

							{{ range .Resources.ByType "image" }}

								{{ $img := .Resize "256x" }}

								<button class="bg-black modal" type="button" tabindex="0">

									<img class="w-64 h-48 shadow cursor-pointer" src="{{ $img.RelPermalink }}" width="320" height="240" data-src="{{ .Permalink }}" loading="lazy">

								</button>

							{{ end }}

							<div class="m-4 mb-8">

								<h3>{{ if .Title }} {{ .Title }} {{ else }} &nbsp; {{ end }}</h3>

								<ul class="flex flex-wrap">

								{{ range .Params.tags }}

									{{ if eq $kind "section" }}

										<li style="max-width: 16rem" class="mr-1 break-words"><a class="opacity-75 hover:opacity-100 focus:opacity-100 transition-opacity ease-linear duration-300 text-xs" href="/portfolio/tag/{{ anchorize . }}/">{{ if . }} #{{ . }} {{ else }} &nbsp; {{ end }}</a></li>

									{{ else }}

										{{ if eq $title . }}

											<li style="max-width: 16rem" class="mr-1 break-words"><a class="text-xs">#{{ . }}</a></li>

										{{ else }}

											<li style="max-width: 16rem" class="mr-1 break-words"><a class="opacity-75 hover:opacity-100 focus:opacity-100 transition-opacity ease-linear duration-300 text-xs" href="/portfolio/tag/{{ anchorize . }}/">#{{ . }}</a></li>

										{{ end }}

									{{ end }}

								{{ end }}

								</ul>

							</div>

						</article>

					{{ end }}

				</div>

				{{/* END main content grid. */}}



			</div>



			{{/* START button to display tags in small screens. */}}

			<button class="p-1 bg-gray-500 sm:hidden font-bold text-gray-100 shadow opacity-75 hover:opacity-100 focus:opacity-100 fixed bottom-0 left-0 w-full text-center z-10 tagsBtn transition-opacity ease-linear duration-300" href="/portfolio/tags/" type="button">Tags</button>

			{{/* END button to display tags in small screens. */}}



		{{/* END main content. */}}



		{{/* If there are not content available: */}}

		{{/* START alternative content. */}}

		{{ else }}

			<section class="text-center">

				<img class="w-64 h-64 mb-8 mx-auto" src="/svg/undraw_image_upload_wqh3.svg">

				<a class="p-4 opacity-75 hover:opacity-100 focus:opacity-100 transition-opacity ease-linear duration-300" href="#"><span class="p-2 bg-gray-500 shadow rounded text-gray-100 font-bold">Upload content</span></a>

			</section>

		{{ end }}

		{{/* END alternative content. */}}



	</main>

	{{ $js := resources.Get "js/main.js" }}
	<script src="{{ $js.RelPermalink }}"></script>

{{ end }}
